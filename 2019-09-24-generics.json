{"version":2,"kind":"Article","sha256":"3935658c5395af4549fc9fa0af4221afb98cde48a27734873716151e16e5af9d","slug":"2019-09-24-generics","location":"/CS2112/2019-09-24-Generics.md","dependencies":[],"frontmatter":{"title":"Generics","tags":["Cornell","19FA","CS2112"],"date":"2019-09-24","authors":[{"nameParsed":{"literal":"Yao Lirong","given":"Yao","family":"Lirong"},"name":"Yao Lirong","affiliations":["Cornell University"],"url":"https://yao-lirong.github.io","linkedin":"https://www.linkedin.com/in/yao-lirong/","id":"contributors-myst-generated-uid-0"}],"keywords":["Cornell","CS","Yao Lirong"],"affiliations":[{"id":"Cornell University","name":"Cornell University"}],"numbering":{"title":{"offset":1}},"exports":[{"format":"md","filename":"2019-09-24-Generics.md","url":"/cornell-notes/build/2019-09-24-Generics-5764d735c1521395b12cbb91fb0147fd.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Wildcards","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"ztajy0GYtc"}],"identifier":"wildcards","label":"Wildcards","html_id":"wildcards","implicit":true,"key":"GD63svxunb"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"To make up for the lack of variance, Java has a feature called ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"o0OBhXpWn0"},{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"wildcards","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"bH9xQTFVg7"}],"key":"qur0Wcuvdq"},{"type":"text","value":", in which question marks are used as type arguments. The type ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"DcOQCXwja2"},{"type":"inlineCode","value":"LList<?>","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"AnPsrRcoSo"},{"type":"text","value":" represents an object that is an ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"O7l0bDreLx"},{"type":"inlineCode","value":"LList<T>","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"cGwDH7NDYs"},{"type":"text","value":" for ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"mPUB8Dcchj"},{"type":"emphasis","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"some","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"EimuARwK90"}],"key":"oV947V5rFY"},{"type":"text","value":" type T, though precisely ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"qGc3oFjJwZ"},{"type":"emphasis","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"which","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"FOE9m77ag9"}],"key":"GJcpalQGts"},{"type":"text","value":" type T is not known at compile time (or for that matter, even at run time).","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"hEmwntEOQa"}],"key":"F4DEvDBVjN"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"A value of type ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"ll80SqEObD"},{"type":"inlineCode","value":"LList<T>","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"bokR1J1DHl"},{"type":"text","value":" (for any T) can be used as if it had type ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"JtIhR6Eyqk"},{"type":"inlineCode","value":"LList<?>","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"QDkpR30CHU"},{"type":"text","value":", so there is a family of subtyping relationships ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"RFal3jEy8J"},{"type":"inlineCode","value":"LList<T>","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"ohWuNkl45l"},{"type":"text","value":" <: ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"YGh5CNRPKZ"},{"type":"inlineCode","value":"LList<?>","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"jmdwkrTcAX"},{"type":"text","value":". This means that a method can provide a caller with a list of any type without the client knowing what is really stored in the list; the client can get elements from the list but cannot change the list:","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"UrOqrFpinI"}],"key":"GuGLpIC76n"},{"type":"code","lang":"java","value":"LList<?> f() {\n    LList<Integer> i = new LList();\n    i.add(2);\n    i.add(3);\n    i.add(5);\n    return i;\n}\n\n// in caller\nLList<?> lst = f();\nlst.add(7); // illegal: type ? not known\u0001\nfor (Object o : lst) {\n    println(o);\n}","position":{"start":{"line":18,"column":1},"end":{"line":33,"column":1}},"key":"DnXBNKpsGr"},{"type":"paragraph","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Note that the type of the elements iterated over is not really known either, but at least we know that the type hidden by ? is a subtype of ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"cmSsP1OMOo"},{"type":"inlineCode","value":"Object","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"iIJDBEPTwZ"},{"type":"text","value":". So it is type-safe to declare the variable ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"DUTOUUYpmM"},{"type":"inlineCode","value":"o","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"OBfKQHHpmg"},{"type":"text","value":" as an ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"CHfcqqBYGx"},{"type":"inlineCode","value":"Object","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"RccWlu7q4r"},{"type":"text","value":".","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"ny9OEEoCz5"}],"key":"cM6reFFTks"},{"type":"paragraph","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"If we need to know more about the type hidden by the question mark, it is possible to add an ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"v3F4yFXlQ4"},{"type":"inlineCode","value":"extends","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"xva7eRjL5f"},{"type":"text","value":" clause. For example, suppose we have an interface ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"PREjMKsRnv"},{"type":"inlineCode","value":"Animal","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"aeNbtEz8GH"},{"type":"text","value":" with two implementing classes ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"pvzQRnpG6f"},{"type":"inlineCode","value":"Elephant","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"ES94Wu4h29"},{"type":"text","value":" and ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"GahbsY9wdg"},{"type":"inlineCode","value":"Rhino","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"Upi1jzfRtf"},{"type":"text","value":". Then the type ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"P462IqmBCr"},{"type":"inlineCode","value":"Collection<? extends Animal>","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"ybWrKJKgx5"},{"type":"text","value":" is a supertype of both ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"ItxpJVQbcE"},{"type":"inlineCode","value":"Collection<Elephant>","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"J0khig1qjx"},{"type":"text","value":" and ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"Kky7yg9vGe"},{"type":"inlineCode","value":"Collection<Rhino>","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"OVANpu6qls"},{"type":"text","value":", and we can iterate over the collection and extract ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"zlsg8xYAgm"},{"type":"inlineCode","value":"Animal","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"t14HDEtls4"},{"type":"text","value":"s rather than just ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"IHJ4NRftxR"},{"type":"inlineCode","value":"Object","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"vWUAMaa7X5"},{"type":"text","value":"s.","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"L2fFsjU9xv"}],"key":"aFb9mCtGYw"},{"type":"code","lang":"java","value":"Collection<? extends Animal> c = new LList<Rhino>();\nfor (Animal a : c) { \n    // use a as Animal here\u0001\n}","position":{"start":{"line":39,"column":1},"end":{"line":44,"column":1}},"key":"OjBYQyy7H9"}],"key":"lVhTuAKMjz"}],"key":"MF0jGwl8lr"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"CS2024 C++ Programming","url":"/2020-09-07-cs2024-c-programming","group":"Incomplete CS Notes @ Cornell"},"next":{"title":"Value Representation, Hashing, and Generics","url":"/2019-09-30-value-representation-hashing-and-generi","group":"CS2112 Object-Oriented Design (Honors)"}}},"domain":"http://localhost:3000"}