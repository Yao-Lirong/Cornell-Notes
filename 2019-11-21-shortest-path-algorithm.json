{"version":2,"kind":"Article","sha256":"e9268c00868ad265ebbc268f84b0cfade1786a3d3ef7cf4cafaf0fd18c419285","slug":"2019-11-21-shortest-path-algorithm","location":"/CS2112/2019-11-21-shortest-path-algorithm.md","dependencies":[],"frontmatter":{"title":"shortest path algorithm","tags":["Cornell","CS2112"],"date":"2019-11-21","authors":[{"nameParsed":{"literal":"Yao Lirong","given":"Yao","family":"Lirong"},"name":"Yao Lirong","affiliations":["Cornell University"],"url":"https://yao-lirong.github.io","linkedin":"https://www.linkedin.com/in/yao-lirong/","id":"contributors-myst-generated-uid-0"}],"keywords":["Cornell","CS","Yao Lirong"],"affiliations":[{"id":"Cornell University","name":"Cornell University"}],"numbering":{"title":{"offset":1}},"exports":[{"format":"md","filename":"2019-11-21-shortest-path-algorithm.md","url":"/cornell-notes/build/2019-11-21-shortest--b76b0aed29a8242f152b4c8fd917f37d.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Dijkstra","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"q4ZinfHa5E"}],"identifier":"dijkstra","label":"Dijkstra","html_id":"dijkstra","implicit":true,"key":"oAw6y7YiiZ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":13,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"white: ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"miTW8q17os"},{"type":"inlineCode","value":"dist == infinity","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"bjXPseoIJB"}],"key":"r1LzT0DtQn"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"gray: ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"NRoNeTQYuo"},{"type":"inlineCode","value":"dist < infinity","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"vJS2W1N1iv"},{"type":"text","value":", in queue","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"qAgS4AOsus"}],"key":"QIX5s9HQsD"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"black: ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"zMqshLgXhl"},{"type":"inlineCode","value":"dist < infinity","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"q1LXwL2e82"},{"type":"text","value":", not in queue","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"C3ezl7pNU4"}],"key":"JElTDtknVy"}],"key":"nqtegxrW52"},{"type":"code","lang":"java","value":"root.dist = 0; //root is the source\nfrontier.push(root); //root is now grey\nwhile(!frontier.empty()){\n    Node g = frontier.pop();\n    for (g -> v){\n        if(v.dist==infinity){ //found a new white node\n            v.dist = g.dist + d;\n            frontier.push(v);\n        }\n        else{ // v is grey\n            v.dist = min(v.dist, g.dist+d);\n        }\n    }\n    //g is now black\n}","position":{"start":{"line":19,"column":1},"end":{"line":35,"column":1}},"key":"TSdEewY9Q8"},{"type":"paragraph","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"inlineCode","value":"v1","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"veBInsicF7"},{"type":"text","value":" and ","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"JrptVMVIsS"},{"type":"inlineCode","value":"v2","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"V9wPrqjtal"},{"type":"text","value":" is on the best path iff ","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"NGVFhFa5lT"},{"type":"inlineCode","value":"v1.dist+d=v2.dist","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"hv0DNFIjxt"}],"key":"iDbEzikTCf"},{"type":"paragraph","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"Therefore, if we want to get the shortest path, we can use this algorithm to walk straight back to the graph from destination.","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"SfYRi9Bc86"}],"key":"mwpG5YujLk"},{"type":"heading","depth":3,"position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"Performance","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"xUKaHxAyt9"}],"identifier":"performance","label":"Performance","html_id":"performance","implicit":true,"key":"d78kynyrGy"},{"type":"paragraph","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"text","value":"Total: ","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"wvZL3DUptI"},{"type":"inlineCode","value":"O((V+E)lgV)","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"TVZEdLLF0T"}],"key":"a5C8W0L3ND"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":49,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":49,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"text","value":"outer loop: O(V lgV)","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"unYNCfOYbx"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":50,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"once per vertex, O(V) iterations","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"V9wyBkxE7b"}],"key":"vOBmXJgjLp"},{"type":"listItem","spread":true,"position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"text","value":"finding min element in the queue once: O(lg V) - BST or heap","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"YvjggBYvK5"}],"key":"EaQPEvewXZ"}],"key":"pM8QI7gFW0"}],"key":"n8DprzUpha"},{"type":"listItem","spread":true,"position":{"start":{"line":52,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"text","value":"inneer loop: O(E lgV)","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"cxqVIjbjc6"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":53,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"O(E) iterations","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"rPRs8oVLVG"}],"key":"mONCPejXjG"},{"type":"listItem","spread":true,"position":{"start":{"line":54,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"text","value":"time to push/update priority queue: O(lg V)","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"jHC0QKuWJP"}],"key":"WM4pBMDeGf"}],"key":"FYeuMxNysI"}],"key":"bYF6GxsMQl"}],"key":"fx1MwzDaKc"},{"type":"heading","depth":3,"position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"text","value":"Correctness","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"uqARa8DrrY"}],"identifier":"correctness","label":"Correctness","html_id":"correctness","implicit":true,"key":"GHkJGmbUfO"},{"type":"heading","depth":4,"position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"children":[{"type":"text","value":"Loop Invariant:","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"k2jDy1YjFO"}],"identifier":"loop-invariant","label":"Loop Invariant:","html_id":"loop-invariant","implicit":true,"key":"aqRwS6o4yW"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":60,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"text","value":"For every black node b, gray g: ","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"foIEjjDO80"},{"type":"inlineCode","value":"b.dist<=g.dist","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"dqhhEogWEh"}],"key":"doCDqeNIiL"},{"type":"listItem","spread":true,"position":{"start":{"line":61,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"text","value":"v.dist is length of shortest interior path to v (or infinity if none) (interior path means it stays in the black region, which means it only uses black nodes)","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"lO6b7ZdRDF"}],"key":"xuWl2ghVow"}],"key":"na9FkkPTgi"},{"type":"heading","depth":4,"position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"children":[{"type":"text","value":"Establishment:","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"key":"KSKwAtpKMr"}],"identifier":"establishment","label":"Establishment:","html_id":"establishment","implicit":true,"key":"DmhknMfUt0"},{"type":"paragraph","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"children":[{"type":"text","value":"no black nodes","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"raePZ8yvBc"}],"key":"K9p9YjxchF"},{"type":"heading","depth":4,"position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"children":[{"type":"text","value":"PostCondition:","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"MblTXoqC8K"}],"identifier":"postcondition","label":"PostCondition:","html_id":"postcondition","implicit":true,"key":"nC8UiYwDdS"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":69,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"children":[{"type":"text","value":"no gray nodes","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"IcVPtXUGih"}],"key":"b6PbLeLUDR"},{"type":"listItem","spread":true,"position":{"start":{"line":70,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"all the nodes are black -> All paths are interior path -> shortest: interior path is actual answer","position":{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},"key":"gQlLkuwVIq"}],"key":"K0x0d2iq31"}],"key":"egumtob0x8"},{"type":"heading","depth":4,"position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"text","value":"Preservation:","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"T5ZDUQ0zAW"}],"identifier":"preservation","label":"Preservation:","html_id":"preservation","implicit":true,"key":"KXWDf2I3Xc"},{"type":"paragraph","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"link","url":"https://www.cs.cornell.edu/courses/cs2112/2019fa/lectures/lecture.html?id=ssp","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"text","value":"‰∏çÂÜô‰∫ÜÔºåüë¥ ÂêéÈù¢Áúã‰∏çÊáÇ‰∫Ü„ÄÇ","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"r3g8OZJBph"}],"urlSource":"https://www.cs.cornell.edu/courses/cs2112/2019fa/lectures/lecture.html?id=ssp","key":"ZJxKWbdVqD"}],"key":"KFdGv68itd"},{"type":"heading","depth":2,"position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"children":[{"type":"text","value":"Application:","position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"key":"Pr7Row8K4N"}],"identifier":"application","label":"Application:","html_id":"application","implicit":true,"key":"SoEzxPWNiu"},{"type":"paragraph","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"text","value":"if you have something like condition probability which has to be multiplied to produce the correct result. But so you want to know the shortest probability there. You can just take the log of probability.","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"i5cgBnod3N"}],"key":"fdxfuR2RZo"},{"type":"blockquote","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"children":[{"type":"text","value":"For example, suppose that we had a state machine that transitioned to new states with some given probability on each outgoing edge. The probability of taking a particular path through the graph would then be the ","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"key":"Fc2GxVgNhx"},{"type":"emphasis","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"children":[{"type":"text","value":"product","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"key":"BkRv0G5J24"}],"key":"j0Cp3zNb9S"},{"type":"text","value":" of the probabilities on edges along that path. We can then answer questions such as, ‚ÄúWhat is the most likely path that the system will follow in order to arrive at a given state?‚Äù by solving a shortest path problem in a weighted graph in which the weights are the negative logarithms of the probabilities, since ","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"key":"QJdyKWq5Ry"},{"type":"inlineMath","value":"(‚àílog a) + (‚àílog b) = ‚àílog ab","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mo>‚àí</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>a</mi><mo stretchy=\"false\">)</mo><mo>+</mo><mo stretchy=\"false\">(</mo><mo>‚àí</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>b</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo>‚àí</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>a</mi><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">(‚àílog a) + (‚àílog b) = ‚àílog ab</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">‚àí</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">a</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">‚àí</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">‚àí</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">ab</span></span></span></span>","key":"ZTZOoTDGfV"},{"type":"text","value":".","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"key":"RdP4pDtFU7"}],"key":"UFNS4YxuhV"}],"key":"S8degs50kE"}],"key":"L8Z2xZCEIN"}],"key":"mCJMLpTQpJ"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Graph (Recitation)","url":"/2019-11-20-graph-recitation","group":"CS2112 Object-Oriented Design (Honors)"},"next":{"title":"Udacity: Android Basics","url":"/2019-11-23-android-basics-user-interface","group":"CS2112 Object-Oriented Design (Honors)"}}},"domain":"http://localhost:3000"}